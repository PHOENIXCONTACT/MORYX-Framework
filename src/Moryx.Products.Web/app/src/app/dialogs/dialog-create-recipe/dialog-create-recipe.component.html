<h2 mat-dialog-title>
  {{ TranslationConstants.CREATE_RECIPE_DIALOG.TITLE | translate }}
</h2>
<div mat-dialog-content class="create-recipe">
  <mat-form-field appearance="outline">
    <mat-label>{{
      TranslationConstants.CREATE_RECIPE_DIALOG.RECIPE_TYPE | translate
    }}</mat-label>
    <mat-select
      [(ngModel)]="result()!.selectedRecipe"
      (selectionChange)="onSelectedRecipeTypeChanged()"
      >
      @for (recipe of possibleRecipes(); track recipe) {
        <mat-option [value]="recipe">
          {{ recipe.displayName }}
        </mat-option>
      }
    </mat-select>
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>{{
      TranslationConstants.CREATE_RECIPE_DIALOG.RECIPE_NAME | translate
    }}</mat-label>
    <input matInput [(ngModel)]="result()!.recipeName" />
  </mat-form-field>
  @if (hasWorkplans()) {
    <mat-form-field appearance="outline">
      <mat-label>{{
        TranslationConstants.CREATE_RECIPE_DIALOG.WORKPLAN | translate
      }}</mat-label>
      <mat-select [(ngModel)]="result()!.workplanModel">
        @for (workplan of possibleWorkplans(); track workplan) {
          <mat-option [value]="workplan">
            {{ workplan.name }}
          </mat-option>
        }
      </mat-select>
    </mat-form-field>
  }
</div>
<div mat-dialog-actions align="end">
  <button mat-button type="submit" color="primary" (click)="onClose()">
    {{ TranslationConstants.CREATE_RECIPE_DIALOG.CANCEL | translate }}
  </button>
  <button
    mat-flat-button
    type="submit"
    [disabled]="
      !result()!.recipeName ||
      !result()!.selectedRecipe ||
      (hasWorkplans() && !result().workplanModel)
    "
    [mat-dialog-close]="result()"
    >
    {{ TranslationConstants.CREATE_RECIPE_DIALOG.CREATE | translate }}
  </button>
</div>
